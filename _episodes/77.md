---
layout: episode
title: "77: One tool to proxy them all"
date: 2025-10-29
tags: trino spark aws s3 proxy object storage security
youtube_id: "aQ5ehjuOcdc"
wistia_id:
sections:
  - time: 00:00
    title: "Introduction with Manfred"
  - time: 00:58
    title: "Trino release and ecosystem updates"
  - time: 03:15
    title: "Trino contributor call recap"
  - time: 04:56
    title: "Interview: Jordan and Pablo"
  - time: 05:14
    title: "Guest Introductions and Pablo's background"
  - time: 06:19
    title: "Jordan's background and the Airlift framework"
  - time: 11:51
    title: "Introduction to AWS Proxy"
  - time: 13:45
    title: "Origin story and the Starburst/Dell use case"
  - time: 15:58
    title: "Bloomberg use case and governance"
  - time: 19:37
    title: "Technical challenge: AWS Signature Protocol (SIGv4)"
  - time: 22:26
    title: "AWS Proxy as an extensible toolkit"
  - time: 28:10
    title: "Diagram: Spark/Starburst proxy architecture"
  - time: 32:35
    title: "Diagram: Bloomberg Iceberg/OPA architecture"
  - time: 38:33
    title: "Solving Iceberg catalog redirection"
  - time: 46:22
    title: "Roadmap and future features"
  - time: 49:38
    title: "Community and how to contribute"
  - time: 52:26
    title: "Closing remarks and next broadcast"
introduction: | 
  Jordan Zimmerman and Pablo Arteaga introduce us to a new Trino subproject and
  its use cases with AWS S3 and other storage systems, metastores, and query
  engines - aws-proxy.
---

## Host

* [Manfred Moser](https://www.linkedin.com/in/manfredmoser), Sr. Principal
  DevRel Engineer at [Chainguard](https://chainguard.dev), open source hacker at
  [simpligility](https://github.com/simpligility)

## Guest

* [Jordan Zimmerman](https://www.linkedin.com/in/jordanzimmerman/), Senior
  Staff Engineer at [Starburst](https://www.starburst.io/)
* [Pablo Arteaga](https://www.linkedin.com/in/pablo-arteaga-20b547101/),
  Software Engineer at
  [Bloomberg](https://www.bloomberg.com/company/values/tech-at-bloomberg/)

## Releases and news

Trino 478 is in the final staging of getting to release. We will talk about the
details in the next episode.

### Other releases and news

* [August contributor call recap and
  recording](https://github.com/trinodb/trino/wiki/Contributor-meetings#trino-contributor-call-22-oct-2025)
  is available.
* New video tutorials for working on Trino and other open source projects
  [Manfred
  mentors](https://www.youtube.com/playlist?list=PLHdo8mJLIMWALFrGgA6-wWcWgyZmjAex-)
  is live now and looking for [sponsors](https://github.com/sponsors/mosabua).
  Details about the tasks are available in the [contribution tracker
  project](https://github.com/simpligility/contributions).

## Introducing Jordan and Pablo

Manfred chats with Pablo and Jordan about their involvement in the Trino
community. We end up chatting a bunch about the Airlift framework that is a
foundation for Trino since Jordan has been involved in that project for a long
time. Pablo has been involved in Trino itself and worked on the OPA plugin and
the Trino Gateway, among other things.

## aws-proxy

The AWS Proxy is an open-source Java toolkit and library, not a standalone
application, designed to act as a transparent proxy for AWS Simple Storage
Service (S3) compatible object storage protocols.

It was created by developers from Starburst, Bloomberg and other organizations
in the Trino community to address the need for enhanced governance and security
with tools like Apache Spark that lack security controls. It also supports
direct data access to S3 or S3-compatible systems, like MinIO or Dell ECS.

### Key functionality and use cases 

* **Security and governance layer**: The primary goal is to prevent client
  applications from bypassing governance systems by accessing S3 directly. It
  ensures all data access is channeled through the proxy, where custom business
  logic can be applied.
* **Signature handling:** It handles the complex AWS Signature Version 4 (SIGv4)
  protocol used for authenticating requests, which was the most challenging part
  of its development.
* **Emulated credentials**: Clients are configured to use fake, worthless
  credentials that are only recognized by the proxy. The proxy then validates
  the user's identity and request against security policies (like OPA), signs
  the request with the real, secure AWS keys (kept safe behind the firewall),
  and forwards it to the real S3 store.
* **Extensibility**: It's built on the Airlift framework and uses a simple
  Service Provider Interface (SPI) plugin mechanism. This allows users to add
  custom logic authorization, object storage abstraction from buckets to tables,
  redirection, and other use cases.

In essence, it takes standard S3 requests from data tools and mediates them,
applying security, control, and abstraction before forwarding them to the actual
data lake storage.

## Resources

* [Presentation]({{site.baseurl}}/assets/episode/tcb77-aws-proxy.pdf)
* [aws-proxy](https://github.com/trinodb/aws-proxy)
* [Jordan's record-builder open source project](http://github.com/Randgalt/record-builder)

## Rounding out

* Looking for guests and topics for Trino Community Broadcast 78
* 26 November 2025 - [Trino Contributor Call]({{site.baseurl}}/community.html#events)
